<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>éŸ“å“¥å¡«å­—éŠæˆ² ç¬¬ä¸€æœŸ</title>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: #f4f1de; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        h1 { color: #3d405b; margin-bottom: 20px; }
        
        .game-wrapper { display: flex; gap: 40px; align-items: flex-start; justify-content: center; flex-wrap: wrap; }
        
        .left-column { display: flex; flex-direction: column; align-items: center; gap: 20px; }

        #grid { 
            display: grid; 
            grid-template-columns: repeat(10, 48px); 
            grid-template-rows: repeat(10, 48px); 
            border: 4px solid #333; 
            background-color: #333; 
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .cell { width: 48px; height: 48px; position: relative; box-sizing: border-box; }
        .white-cell { background-color: white; border: 1px solid #ccc; }
        .black-cell { background-color: #333; }
        .cell-text { color: #2d6a4f; pointer-events: none; }
        .num-label { position: absolute; top: 2px; left: 4px; font-size: 11px; color: #666; font-weight: bold; pointer-events: none; }

        .input-area { 
            width: 488px; 
            background: #fff; 
            padding: 15px; 
            border-radius: 10px; 
            display: flex; 
            gap: 10px; 
            align-items: center; 
            border: 2px solid #3d405b;
            box-sizing: border-box;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #mainInput { flex-grow: 1; font-size: 18px; padding: 8px; text-align: center; border: 1px solid #ccc; border-radius: 5px; }

        .btn-group { display: flex; gap: 5px; }
        button { padding: 8px 12px; cursor: pointer; border: none; border-radius: 5px; font-weight: bold; color: white; transition: 0.3s; }
        .btn-check { background: #2d6a4f; }
        .btn-check:hover { background: #1b4332; }
        .btn-reset { background: #e07a5f; }
        .btn-reset:hover { background: #c96b52; }

        .clue-box { 
            width: 380px; background: white; padding: 25px; border-radius: 12px; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); height: 600px; overflow-y: auto; 
            border-top: 5px solid #e07a5f;
        }
        .clue-section h3 { border-bottom: 2px solid #e07a5f; padding-bottom: 8px; color: #3d405b; margin-top: 0; }
        .clue-item { 
            margin-bottom: 12px; font-size: 14px; line-height: 1.5; color: #444;
            cursor: pointer; transition: background 0.2s; padding: 4px; border-radius: 4px; }
        .clue-num { font-weight: bold; color: #e07a5f; margin-right: 8px; }
        .clue-item:hover { background-color: #fdf0d5; color: #e07a5f; }

        footer { margin-top: 30px; color: #666; font-size: 12px; }
    </style>
</head>
<body>

    <h1>éŸ“å“¥å¡«å­—éŠæˆ² ç¬¬ä¸€æœŸ</h1>

    <div class="game-wrapper">
        <div class="left-column">
            <div id="grid"></div>
            
            <div class="input-area">
                <span style="font-weight: bold; color: #3d405b;">å¡«å¯«ï¼š</span>
                <input type="text" id="mainInput" placeholder="è¼¸å…¥å…§å®¹å¾ŒæŒ‰ä¸‹Enter">
                <div class="btn-group">
                    <button class="btn-check" onclick="checkFullBoard()">æª¢æŸ¥ç­”æ¡ˆ</button>
                    <button class="btn-reset" onclick="location.reload()">é‡ç½®</button>
                </div>
            </div>
        </div>

        <div class="clue-box">
            <div class="clue-section">
                <h3>æ©«è¡Œæç¤º</h3>
                <div class="clue-item" onclick="selectCell(2, 1)"><span class="clue-num">ä¸€</span>å‡ºè‡ªåŒ—å®‹è©äººææ¸…ç…§çš„ã€Šå¦‚å¤¢ä»¤ã€‹ï¼Œä¸‹ä¸€å¥æ˜¯ã€Œæ¿ƒç¡ä¸æ¶ˆæ®˜é…’ã€ã€‚</div>
                <div class="clue-item" onclick="selectCell(5, 1)"><span class="clue-num">äºŒ</span>æ”¹ç·¨è‡ªæ±æµ·å¤§å­¸æ ¡åœ’å‚³èªªçš„ææ€–ç‰‡èˆ‡é›»è…¦éŠæˆ²ã€‚</div>
                <div class="clue-item" onclick="selectCell(4, 5)"><span class="clue-num">ä¸‰</span>ç”¨ä¾†é®è”½å½±åƒæ•æ„Ÿéƒ¨ä½çš„è™•ç†æŠ€è¡“ã€‚</div>
                <div class="clue-item" onclick="selectCell(5, 7)"><span class="clue-num">å››</span>ä½æ–¼å°åŒ—å¸‚å¤§åŒå€ï¼Œä»¥ã€Œåƒæ­²å®´ã€èåçš„è§€å…‰å¤œå¸‚ã€‚</div>
                <div class="clue-item" onclick="selectCell(7, 2)"><span class="clue-num">äº”</span>ç¾åœ‹ç¬¬äº”ä»»ç¸½çµ±æå‡ºçš„å¤–äº¤ç­–ç•¥ï¼Œæ ¸å¿ƒç‚ºã€Œç¾æ´²æ˜¯ç¾æ´²äººçš„ç¾æ´²ã€ï¼Œä¸»å¼µæ­æ´²ä¸æ‡‰å¹²æ¶‰ç¾æ´²äº‹å‹™ã€‚</div>
                <div class="clue-item" onclick="selectCell(7, 7)"><span class="clue-num">å…­</span>å°å¼å‚³çµ±æ—©é¤ï¼Œå°‡éºµç²‰ã€æ°´ã€æ¾±ç²‰ç­‰èª¿è£½æˆéºµç³Šï¼Œç…æˆé¤…çš®å¾Œå†èˆ‡è›‹æ¶²ä¸€èµ·ç…ç†Ÿã€‚</div>
                <div class="clue-item" onclick="selectCell(1, 8)"><span class="clue-num">ä¸ƒ</span>å°ç£å¥³æ­Œæ‰‹ï¼Œä»£è¡¨ä½œã€Šå¯¶è²ã€‹ï¼Œå¾Œå°‡è—åæ”¹å›æœ¬åç„¦å®‰æº¥ã€‚</div>
                <div class="clue-item" onclick="selectCell(9, 1)"><span class="clue-num">å…«</span>ä»¥å°ç± åŒ…èåå…¨çƒçš„å°ç£å“ç‰Œã€‚</div>
                <div class="clue-item" onclick="selectCell(9, 6)"><span class="clue-num">ä¹</span>æ¡ƒåœ’çŸ¥åçš„ç™¼å±•å€åŸŸï¼Œä»¥è—æ–‡æ´»å‹•è‘—ç¨±ã€‚</div>
                <div class="clue-item" onclick="selectCell(3, 9)"><span class="clue-num">å</span>å¹¾ä½•å­¸åŸºæœ¬æ¦‚å¿µï¼ŒæŒ‡å…©ç·šç›¸äº¤æˆ90åº¦çš„é—œä¿‚ã€‚</div>
            </div>
            <div class="clue-section" style="margin-top:20px;">
                <h3>ç›´è¡Œæç¤º</h3>
                <div class="clue-item" onclick="selectCell(7, 3)"><span class="clue-num">1</span>å°ç£ç”·æ­Œæ‰‹ï¼Œç¶½è™Ÿå¤§ç‰›ï¼Œè‹—æ —å®¢å®¶äººï¼Œè¿‘å¹´è½‰æˆ°YouTubeã€‚</div>
                <div class="clue-item" onclick="selectCell(9, 8)"><span class="clue-num">2</span>åŸ·è¡Œç§˜å¯†æƒ…å ±ä»»å‹™çš„äººå“¡ï¼Œå¦‚007ã€‚</div>
                <div class="clue-item" onclick="selectCell(7, 9)"><span class="clue-num">3</span>åœ°ç”¢è¡“èªï¼ŒæŒ‡åŸå¸‚ä¸­æœ€ç²¾è¯çš„å€åŸŸã€‚</div>
                <div class="clue-item" onclick="selectCell(1, 9)"><span class="clue-num">4</span>ä½æ–¼å£è…”è»Ÿé¡å¾Œç·£ï¼Œä¿—ç¨±å°èˆŒé ­ã€‚</div>
                <div class="clue-item" onclick="selectCell(4, 7)"><span class="clue-num">5</span>ç¾åœ‹åšç™»å…¬å¸çš„å¥¶ç²‰å“ç‰Œï¼Œå¾Œè¢«é›€å·¢æ”¶è³¼ï¼Œç¶“å…¸å»£å‘Šè©ã€Œåƒå¤§æ¨¹ä¸€æ¨£é«˜ã€ã€‚</div>
                <div class="clue-item" onclick="selectCell(1, 2)"><span class="clue-num">6</span>ä¿—èªã€Œå¹³ç”Ÿä¸åšè™§å¿ƒäº‹ã€çš„ä¸‹ä¸€å¥ã€‚</div>
                <div class="clue-item" onclick="selectCell(8, 6)"><span class="clue-num">7</span>æ¾æ¹–ç¸£çš„è¡Œæ”¿ä¸­å¿ƒï¼Œä¹Ÿæ˜¯å°ç£é›¢å³¶æœ€å¤§çš„éƒ½å¸‚ã€‚</div>
                <div class="clue-item" onclick="selectCell(9, 6)"><span class="clue-num">8</span>ä¸­åœ‹åå°ï¼Œä»£è¡¨ä½œã€Šç´…é«˜ç²±ã€‹ã€ã€Šæ´»è‘—ã€‹ã€ã€Šå¤§ç´…ç‡ˆç± é«˜é«˜æ›ã€‹ã€‚</div>
                <div class="clue-item" onclick="selectCell(3, 10)"><span class="clue-num">9</span>å—è¡Œæ”¿é™¢ç›´æ¥ç®¡è½„çš„å¸‚å€ï¼Œå¦‚é«˜é›„å¸‚ã€‚</div>
                <div class="clue-item" onclick="selectCell(2, 6)"><span class="clue-num">10</span>é‹å‹•ç«¶è³½ä¸­ä¸€çƒå®šç”Ÿæ­»çš„æ±ºè³½æ©Ÿåˆ¶ã€‚</div>
            </div>
        </div>
    </div>

    <footer>Â© 2026 éŸ“å“¥å¡«å­—éŠæˆ² - æ­¡è¿æŒ‘æˆ°</footer>

    <script>
        const solutions = {
            "2,1":"æ˜¨","2,2":"å¤œ","2,3":"é›¨","2,4":"ç–","2,5":"é¢¨","2,6":"é©Ÿ",
            "5,1":"å¥³","5,2":"é¬¼","5,3":"æ©‹","4,5":"é¦¬","4,6":"è³½","4,7":"å…‹",
            "5,7":"å¯§","5,8":"å¤","5,9":"å¤œ","5,10":"å¸‚","7,2":"é–€","7,3":"ç¾…",
            "7,4":"ä¸»","7,5":"ç¾©","7,7":"ç²‰","7,8":"æ¼¿","7,9":"è›‹","7,10":"é¤…",
            "1,8":"å¼µ","1,9":"æ‡¸","9,1":"é¼","9,2":"æ³°","9,3":"è±","9,6":"è—",
            "9,7":"æ–‡","9,8":"ç‰¹","9,9":"å€","3,9":"å‚","3,10":"ç›´","8,3":"æ™‚",
            "10,8":"å‹™","8,9":"é»ƒ","2,9":"é›","6,7":"å¥¶","7,7":"ç²‰","1,2":"åŠ",
            "3,2":"ä¸","4,2":"æ€•","5,2":"é¬¼","6,2":"æ•²","7,2":"é–€","5,5":"å…¬",
            "8,6":"å¼µ","9,6":"è—","10,6":"è¬€","4,10":"è½„","5,10":"å¸‚","3,6":"æ­»","4,6":"è³½"
        };

        const labels = {
            "2,1": "ä¸€", "5,1": "äºŒ", "4,5": "ä¸‰", "5,7": "å››", "7,2": "äº”", 
            "7,7": "å…­", "1,8": "ä¸ƒ", "9,1": "å…«", "9,6": "ä¹", "3,9": "å", "7,3": "1",
            "9,8": "2", "7,9": "3", "4,7": "5", "1,2": "6", "8,6": "8", "3,10": "9", "2,6": "10", "1,9": "4"
        };

        const grid = document.getElementById('grid');
        const mainInput = document.getElementById('mainInput');
        let currentCell = null;

        // åˆå§‹åŒ–ç¶²æ ¼
        for (let r = 1; r <= 10; r++) {
            for (let c = 1; c <= 10; c++) {
                const key = `${r},${c}`;
                const cell = document.createElement('div');
                cell.className = 'cell ' + (solutions[key] ? 'white-cell' : 'black-cell');
                cell.id = "cell-" + key;
                
                if (solutions[key]) {
                    if (labels[key]) {
                        const lbl = document.createElement('div');
                        lbl.className = 'num-label';
                        lbl.innerText = labels[key];
                        cell.appendChild(lbl);
                    }
                    const display = document.createElement('div');
                    display.className = 'cell-text';
                    display.style = "width:100%; height:100%; display:flex; align-items:center; justify-content:center; font-size:24px; font-weight:bold; cursor:pointer;";
                    display.id = "text-" + key;
                    cell.appendChild(display);
                    cell.onclick = () => selectCell(r, c);
                }
                grid.appendChild(cell);
            }
        }

        function selectCell(r, c, direction = null) {
            let targetR = r;
            let targetC = c;

            if (direction) {
                while (targetR >= 1 && targetR <= 10 && targetC >= 1 && targetC <= 10) {
                    const key = `${targetR},${targetC}`;
                    if (solutions[key]) break;
                    if (direction === 'ArrowUp') targetR--;
                    else if (direction === 'ArrowDown') targetR++;
                    else if (direction === 'ArrowLeft') targetC--;
                    else if (direction === 'ArrowRight') targetC++;
                }
            }

            const finalKey = `${targetR},${targetC}`;
            if (targetR < 1 || targetR > 10 || targetC < 1 || targetC > 10 || !solutions[finalKey]) return;

            if (currentCell) {
                updateCellColor(currentCell);
            }

            currentCell = finalKey;
            document.getElementById("cell-" + finalKey).style.backgroundColor = "#fff3b0";
            mainInput.value = "";
            mainInput.focus();
        }

        function updateCellColor(key) {
            const cell = document.getElementById("cell-" + key);
            const text = document.getElementById("text-" + key).innerText;
            if (text === "") {
                cell.style.backgroundColor = "white";
            } else if (text === solutions[key]) {
                cell.style.backgroundColor = "#d8f3dc";
            } else {
                cell.style.backgroundColor = "#ffd7d7";
            }
        }

        function checkFullBoard() {
            let correctCount = 0;
            let totalCells = Object.keys(solutions).length;
            
            for (let key in solutions) {
                const text = document.getElementById("text-" + key).innerText;
                if (text === solutions[key]) {
                    correctCount++;
                    document.getElementById("cell-" + key).style.backgroundColor = "#d8f3dc";
                } else if (text !== "") {
                    document.getElementById("cell-" + key).style.backgroundColor = "#ffd7d7";
                }
            }

            if (correctCount === totalCells) {
                alert("å¤ªå¼·äº†ï¼ä½ å…¨éƒ¨å¡«å°äº†ï¼ğŸ‰");
            } else {
                alert(`ç›®å‰é€²åº¦ï¼š${correctCount} / ${totalCells} æ ¼æ­£ç¢ºã€‚åŠ æ²¹ï¼`);
            }
        }

        // éµç›¤è¼¸å…¥èˆ‡æ§åˆ¶é‚è¼¯
        mainInput.addEventListener('keydown', (e) => {
            if (!currentCell) return;
            const [r, c] = currentCell.split(',').map(Number);

            if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                e.preventDefault();
                let nextR = r, nextC = c;
                if (e.key === 'ArrowUp') nextR--;
                else if (e.key === 'ArrowDown') nextR++;
                else if (e.key === 'ArrowLeft') nextC--;
                else if (e.key === 'ArrowRight') nextC++;
                selectCell(nextR, nextC, e.key);
            } else if (e.key === 'Enter' && mainInput.value !== "") {
                const char = mainInput.value[0];
                const display = document.getElementById("text-" + currentCell);
                display.innerText = char;
                updateCellColor(currentCell);
                mainInput.value = "";
            } else if (e.key === 'Backspace' && mainInput.value === "") {
                document.getElementById("text-" + currentCell).innerText = "";
                document.getElementById("cell-" + currentCell).style.backgroundColor = "#fff3b0";
            }
        });

        // --- å·çœ‹ç­”æ¡ˆå°å½©è›‹ï¼šé»æ“Šæ¨™é¡Œ 3 æ¬¡é¡¯ç¤ºç­”æ¡ˆ 3 ç§’ ---
        let titleClickCount = 0;
        document.querySelector('h1').onclick = () => {
            titleClickCount++;
            if (titleClickCount === 3) {
                titleClickCount = 0;
                revealAnswersTemporarily();
            }
        };

        function revealAnswersTemporarily() {
            for (let key in solutions) {
                const display = document.getElementById("text-" + key);
                const originalText = display.innerText;
                
                display.innerText = solutions[key];
                display.style.color = "#e07a5f"; // å·çœ‹æ™‚å­—é«”è®Šæ©˜è‰²

                setTimeout(() => {
                    display.innerText = originalText;
                    display.style.color = "#2d6a4f"; // æ¢å¾©åŸæœ¬é¡è‰²
                }, 3000);
            }
        }
    </script>
